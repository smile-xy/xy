<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>JavaScript高级程序设计</title>
	<style type="text/css">
	</style>
</head>
<body>
<script>
// function setName(obj){
// 	obj.name = "Nike";
// 	obj = new Object();
// 	obj.name = "gump";
// }
// var person = new Object();
// setName(person);
// document.write(person.name);



// function displayInfo(args){
// 	var output = "";
// 	if (typeof args.name == "string") {
// 		output += "Name: " + args.name + "\n";
// 	}
// 	if (typeof args.age == "number") {
// 		output += "Age: " + args.age + "<br/>";
// 	}
// 	document.write(output);
// }
// displayInfo({
// 	name : "Nike",
// 	age : 29
// });
// displayInfo({
// 	name : "gump"
// });


// var person1 = {
// 	toLocaleString : function () {
// 		return "Nike";
// 	},
// 	toString : function() {
// 		return "Nikolaos"
// 	}
// };
// var person2 = {
// 	toLocaleString : function(){
// 		return "gump";
// 	},
// 	toString : function () {
// 		return "forsetgump"
// 	}
// };


// var people = [person1, person2];
// alert(people);
// alert(people.toString());
// document.write(people.join("<br/>"));


// var colors = new Array();
// var count = colors.push("red", "blue", "yellow");
// alert(count);

// count = colors.push("black");
// alert(count);

// var item = colors.pop();
// alert(item);
// alert(colors[2]);


// var colors = ["red", "blue"];
// colors.push("brown");
// colors[3] = "black";
// alert(colors.length);

// var item = colors.pop();
// alert(item);


// var colors = new Array();
// var count = colors.unshift("A", "B", "C");
// alert(colors);

// count = colors.unshift("D");
// alert(colors);

// var item = colors.pop();
// alert(item);
// alert(colors);


// var colors = ["A", "B", "C", "D", "E", "F", "G"];
// var colors2 = colors.splice(1, 0 ,"111");
// var colors3 = colors.splice(2,3);
// var colors4 = colors.splice(0, 1, "a", "b", "c");

// alert(colors);
// alert(colors.indexOf("c"));


// var numbers = [1, 2, 3, "blue", 5, 6, 7, 8, 9, 10, 11, 12];

// function obj(item, index, array){
// 	return (item > 5 && item);
// }

// var everyResult = numbers.every(obj);
// document.write("every---" + everyResult + "<br/>");

// var someResult = numbers.some(obj);
// document.write("some---" + someResult + "<br/>");

// var filterResult = numbers.filter(obj);
// document.write("filter---" + filterResult + "<br/>");

// var forEachResult = numbers.forEach(obj);
// document.write("forEach---" + forEachResult + "<br/>");

// var mapResult = numbers.map(obj);
// document.write("map---" + mapResult + "<br/>");


// var values = [1, 2, 3, 4, 5];
// var sum = values.reduce(function(prev, cur, index, array){
// 	return (cur + prev);
// });
// alert(sum);


// var someDate = new Date("May 25, 2005");
// document.write(someDate);
// var someDate = new Date(Date.UTC(2000, 0));
// document.write(someDate);
// var someDate = new Date(Date.UTC(2000, 5, 5, ));
// document.write(someDate);
// var someDate = new Date(2000, 5);
// document.write(someDate);
// var start = Date.now();
// function doStmething(){};
// var stop = Date.now(),
// 	result = stop - start;
// alert(result);

// var date1 = new Date(Date.now());
// alert(date1.toUTCString());



// var re =null;

// for (var i = 0; i < 10; i++) {
// 	re = /cat/g;
// 	re.test("catastrophe");
// }

// for (var i = 0; i < 10; i++) {
// 	re = new RegExp("cat", "g");
// 	re.test("catastrophe");
// }

// var text = "mom and dad and baby";
// var pattern = /mom( and dad( and baby)?)?/gi;
// var matches = pattern.exec(text);
// document.write(matches.index);
// document.write("<br/>" + matches.input);
// document.write("<br/>" + matches[0]);
// document.write("<br/>" + matches[1]);
// document.write("<br/>" + matches[2]);


// var text = "cat, bat, sat, fat";
// var pattern1 = /.at/;
// document.write(text);

// var matches = pattern1.exec(text);
// document.write("<br/>" + matches.index);
// document.write("<br/>" + matches[0]);
// document.write("<br/>" + pattern1.lastIndex);

// matches = pattern1.exec(text);
// document.write("<br/>" + matches.index);
// document.write("<br/>" + matches[0]);
// document.write("<br/>" + pattern1.lastIndex);

// var pattern2 = /.at/g;
// var matches = pattern2.exec(text);
// document.write("<br/>" + matches.index);
// document.write("<br/>" + matches[0]);
// document.write("<br/>" + pattern2.lastIndex);

// var matches = pattern2.exec(text);
// document.write("<br/>" + matches.index);
// document.write("<br/>" + matches[0]);
// document.write("<br/>" + pattern2.lastIndex);

// var matches = pattern2.exec(text);
// document.write("<br/>" + matches.index);
// document.write("<br/>" + matches[0]);
// document.write("<br/>" + pattern2.lastIndex);

// var matches = pattern2.exec(text);
// document.write("<br/>" + matches.index);
// document.write("<br/>" + matches[0]);
// document.write("<br/>" + pattern2.lastIndex);


// var pattern = new RegExp("\\[bc\\]at", "gi");
// alert(pattern.toString());
// alert(pattern.toLocaleString());
// alert(pattern.valueOf());

// var text = "this has been a short summer";
// var pattern = /(.)hort/g;
// if (pattern.test(text)) {
// 	document.write(RegExp.input);
// 	document.write("<br/>" + RegExp.leftContext);
// 	document.write("<br/>" + RegExp.rightContext);
// 	document.write("<br/>" + RegExp.lastMatch);
// 	document.write("<br/>" + RegExp.lastParen);
// 	document.write("<br/>" + RegExp.multiline);
// }


// function sum(sum1 ,sum2){
// 	return sum1 + sum2;
// }
// alert (sum(10, 10));
// var anotherSum = sum;
// alert(anotherSum(10, 10));
// sum = null;
// alert(anotherSum(10, 10));

// function addSomeNumber (num){
// 	return num + 100;
// }
// function addSomeNumber (num){
// 	return num + 200;
// }
// var result = addSomeNumber(100);
// alert(result);


// function callSomeFunction(someFunction, someArgument){
// 	return someFunction(someArgument);
// }
// function add10(num){
// 	return num + 10;
// }
// var result1 = callSomeFunction(add10, 10);
// alert(result1);
// function getGreeting(name){
// 	return "Hello," + name;
// }
// var result2 = callSomeFunction(getGreeting,"Nike");
// alert(result2);


// function createComparisonFunction(propertyName){
// 	return function(object1, object2){
// 		var value1 = object1[propertyName];
// 		var value2 = object2[propertyName];
// 		if(value1 < value2){
// 			return -1;
// 		}else if (value1 > value2) {
// 			return 1;
// 		}else{
// 			return 0;
// 		}
// 	};
// }

// var data = [{name: "Zach", age: 29}, {name: "Nich", age: 33}];
// data.sort(createComparisonFunction("name"));
// alert(data[0].name);
// data.sort(createComparisonFunction("age"));
// alert(data[0].name);


// function factorial(num){
// 	if (num <= 1) {
// 		return 1;
// 	}else{
// 		return num * factorial(num - 1);
// 	}
// }


// window.color = "red";
// var o = {color : "bule"};
// function sayColor(){
// 	document.write(this.color);
// }
// sayColor();
// o.sayColor = sayColor;
// o.sayColor();

// window.color = "red";
// var o = {color : "bule"};
// function sayColor(){
// 	document.write(this.color);
// }
// sayColor.call(this);
// sayColor.call(window);
// sayColor.call(o);




// function outer(){
// 	inner();
// }
// function inner(){
// 	alert(inner.caller);
// }
// outer();

// function sum(num1, num2){
// 	return num1 + num2;
// }
// function callSum1(num1, num2){
// 	return sum.call(sum, num1, num2);
// }

// alert(callSum1(10, 10));

// window.color = "red";
// var o = {color : "blue"};
// function sayColor(){
// 	document.write(this.color);
// }
// sayColor();
// sayColor.call(this);
// sayColor.call(window);
// sayColor.call(o);

// var objectSayColor = sayColor.bind(o);
// objectSayColor();


// var s1 = "some text";
// var s2 = s1.substring(2);
// console.log(s2);
// console.log(s2.length);
// console.log(s2[3]);

// var obj = new Object("some text");
// console.log(obj instanceof String);
// var value = new Number("22");
// console.log(typeof value);


// var falseObject = new Boolean(false);
// var result = falseObject && true;
// console.log(result);
// var falseValue = false;
// result = falseValue && true;
// console.log(result);

// var num = 10.045;
// console.log(num.toFixed(2));
// console.log(num.toExponential());


// /*定义一个人类*/
// function Person(name, age) {
//     this.name = name;
//     this.age = age;
// }
// /*定义一个学生类*/
// function Student(name, age, grade) {
//     Person.apply(this, arguments);
//     // Person.call(this, name, age);
//     this.grade = grade;
// }
// //创建一个学生类
// var student = new Student("qian", 21, "一年级");
// //测试
// console.log("name:" + student.name + "\n" + "age:" + student.age + "\n" + "grade:" + student.grade);
// //大家可以看到测试结果name:qian  age:21  grade:一年级
// //学生类里面我没有给name和age属性赋值啊,为什么又存在这两个属性的值呢,这个就是apply的神奇之处.


// var stringValue = "hello world";
// console.log(stringValue.charAt(3)+ "\n" +
// 			stringValue.charCodeAt(3)+ "\n" +
// 			stringValue.slice(3)+ "\n" +
// 			stringValue.substring(3)+ "\n" +
// 			stringValue.substr(3)+ "\n" +
// 			stringValue.slice(3, 7)+ "\n" +
// 			stringValue.substring(3, 7)+ "\n" +
// 			stringValue.substr(3, 7));


// var stringValue = "Lorem ipsum dolor sit amet, consectetur adipisicing elit";
// var positions = new Array();
// var pos = stringValue.indexOf("e");
// while( pos > -1 ){
// 	positions.push(pos);
// 	pos = stringValue.indexOf("e", pos + 1);
// }
// console.log(positions);
// var trimmedStringValue = stringValue.trim();
// console.log(trimmedStringValue);


// var text = "cat, bat, sat, fat";
// var result = text.replace("at", "ong");
// console.log(result);
// result = text.replace(/at/g, "ong");
// console.log(result);

// function htmlEscape(text){
// 	return text.replace(/[<>"&]/g, function(match, pos, originalText){
// 		switch(match){
// 			case  "<":
// 				return "&lt;";
// 			case ">":
// 				return	"&gt;";
// 			case "&":
// 				return	"&amp;";
// 			case "\"":
// 				return	"&quot;";
// 		}
// 	})
// }
// document.write(htmlEscape("<p class = \"greeting\">Hello world!</p>"));


// var msg = "hello world";
// eval("alert(msg)");

// var color = "red";
// function sayColor(){
// 	alert(window.color);
// }
// window.sayColor();

// var values = [1, 2, 3, 4, 5, 6, 7, "8"];
// var max = Math.max.apply(Math, values);
// console.log(max);

// alert(Math.floor(Math.random() * 6 + 1));



/* 
    4变量
*/



// console.log(typeof('Nike'));//String
// console.log(typeof(true));//boolean
// console.log(typeof(111));//number
// var u;
// console.log(typeof(u));//undefined
// console.log(typeof(null));//object
// console.log(typeof(new Object()));//object



/* 
    对象
*/


 
// 理解对象
//  var person = new Object();
//  person.name = 'Nike';
//  person.age = 29;
//  person.job = 'sofware';
//  person.sayName = function() {
// 	 console.log(this.name);
//  };

// var person = {
// 	name: "Nike",
// 	age: 29,
// 	job: "software",

// 	sayName:function (){
// 		alert(this.name);
// 	}
// };

// 访问器属性
// var book = {
// 	_year: 2004,
// 	edition: 1
// };
// Object.defineProperty(book, "year", {
// 	get: function(){
// 		return this._year;
// 	},
// 	set:function(newValue){
// 		if (newValue > 2004) {
// 			this._year = newValue;
// 			this.edition += newValue - 2004;
// 		}
// 	}
// });
// book.year = 2005;
// console.log(book.edition);

// var book = {};
// Object.defineProperties(book, {
// 	_year: {
// 		writable: true,
// 		value: 2004
// 	},
// 	edition: {
// 		writable: true,
// 		value: 1
// 	},
// 	year: {
// 		get: function () {
// 			return this._year;
// 		},
// 		set: function (newValue) {
// 			if (newValue > 2004) {
// 				this._year = newValue;
// 				this.edition += newValue - 2004;
// 			}
// 		}
// 	}
// });
// console.log(book);

// 工厂模式
// function Person(name, age, job){
// 	this.name = name;
// 	this.age = age;
// 	this.job = job;
// 	this.sayName = function(){
// 		console.log(this.name);
// 	};
// }
// let person1 = new Person("Nike", 22, "teacher");
// var person2 = new  Person("gump", 33, "gardener");
// person1.sayName();
// alert(person1 instanceof Person);//true
// alert(person2 instanceof Object);//true
// console.log("");
// function CreatePerson(name, age, sex){
//     return {
//     name: name,
//     age: age,
//     sex: sex,
//    sayHello: function () {
// 			console.log(this.name);
// 			},
// 	}
// }
// var person3 = new CreatePerson('jero', 26, 'male');
// console.log(typeof person3 === 'object');
// console.log(person3.name);
// console.log(person3.age)
// console.log(person3.sex);
// person3.sayHello();
// alert(person3 instanceof Object);//true
// alert(person3 instanceof CreatePerson);//false

// function Person(name, age, job) {
// 	this.name = name;
// 	this.age = age;
// 	this.job = job;
// 	this.sayName = function() {
// 		console.log(this.name);
// 	};
// }
// var person1 = new Person('Nike', 29, 'baidu');
// var person2 = new Person('Gump', 20, 'cctv');
// console.log(person1);
// person1.sayName();
// console.log(person2);
// person2.sayName();

// 理解和in
// function Person() {};
// Person.prototype.name = "Nike";
// Person.prototype.age = 20;
// Person.prototype.job = "tencet";
// Person.prototype.sayName = function () {
// 	console.log(this.name);
// };
// var person1 = new Person();
// var person2 = new Person();
// console.log(Object.getPrototypeOf(person1) == Person.prototype);
// console.log(Object.getPrototypeOf(person1).name);
// console.log(person1.hasOwnProperty("name"));
// person1.name = "Gump";
// console.log(person1.name);
// console.log(person1.hasOwnProperty("name"));
// console.log(person2.name);
// delete person1.name;
// console.log(person1.name);
// console.log("name" in person1);

// function hasPerototypeProperty(objcet, name){
// 	return !objcet.hasOwnProperty(name) && (name in objcet);
// }
// function Person() {};
// Person.prototype.name = "Nike";
// Person.prototype.age = 20;
// Person.prototype.job = "tencet";
// Person.prototype.sayName = function () {
// 	console.log(this.name);
// };
// var person = new Person();
// alert(hasPerototypeProperty(person, "name"));//true
// person.name = "Gump";
// alert(hasPerototypeProperty(person, "name"));//false

// var o = {
// 	toString: function () {
// 		return "My Objcet";
// 	}
// };
// for (var prop in o) {
// 	if (prop == "toString") {
// 		console.log("Found toString");
// 	}
// }

// function Person() {};
// Person.prototype.name = "Nike";
// Person.prototype.age = 23;
// Person.prototype.job = "dedao";
// Person.prototype.sayName = function () {
// 	console.log(this.name);
// }
// var keys = Object.keys(Person.prototype);
// console.log(keys);//["name", "age", "job", "sayName"]
// var p1 = new Person();
// p1.name = "Gump";
// p1.age = 23;
// var p1keys = Object.keys(p1);
// console.log(p1keys);//["name", "age"]
// keys = Object.getOwnPropertyNames(Person.prototype);
// console.log(keys);

// 更简单的原型语法
// function Person() {};
// Person.prototype = {
// 	// constructor: Person,
// 	name: "Nike",
// 	age: 24,
// 	job: "alibaba",
// 	sayName: function () {
// 		console.log(this.name);
// 	}
// };
// Object.defineProperty(Person.prototype, "constructor", {
// 	enumerable: false,
// 	value: Person,
// });
// var friend = new Person();
// console.log(friend instanceof Object);
// console.log(friend instanceof Person);
// console.log(friend.constructor == Person);
// console.log(friend.constructor == Object);

// function Person() {
// };
// var friend = new Person();
// Person.protoytpe = {
// 	constructor: Person,
// 	name: "Nike",
// 	age: 19,
// 	job: "didi",
// 	sayName: function () {
// 		console.log(this.name);
// 	}
// };
// friend.sayName();

// 原型对象问题
// function Person() {};
// Person.prototype = {
// 	constroctory: Person,
// 	name: "Nike",
// 	age: 29,
// 	job: "cctv",
// 	friends: ["Arrmy", "Gump"],
// 	sayName: function () {
// 		console.log(this.name);
// 	}
// };
// var person1 = new Person();
// var person2 = new Person();
// person1.friends.push("Red");
// console.log(person1.friends);
// console.log(person2.friends);
// console.log(person1.friends === person2.friends);

// 组合使用构造函数模式和原型模式
// function Person(name, age, job) {
// 	this.name = name;
// 	this.age = age;
// 	this.job = job;
// 	this.friends = ['Arrmy', 'Gump'];
// }
// Person.prototype = {
// 	constroctor: Person,
// 	sayName: function () {
// 		console.log(this.name);
// 	}	
// }
// var person1 = new Person('Nike', 29, 'baidu'),
// 	person2 = new Person('Gump', 22, 'cctv');
// person1.friends.push('Doge');
// console.log(person1.friends);
// console.log(person2.friends);
// console.log(person1.friends === person2.friends);
// console.log(person1.sayName === person2.sayName);

// 动态原型模式
// function Person(name, age, job) {
//	//属性
// 	this.name = name;
// 	this.age = age;
// 	this.job = job;
//	//方法
// 	if (typeof this.sayName != "function") {
// 		Person.prototype.sayName = function() {
// 			console.log(this.name);
// 		};
// 	}
// }
// var friend = new Person("Nike", 29, "baidu");
// friend.sayName();

// 寄生构造函数模式
// function Person(name, age, job) {
// 	var o = new Object;
// 	o.name = name;
// 	o.age = age;
// 	o.job = job;
// 	o.sayName = function() {
// 		console.log(this.name);
// 	};
// 	return o;
// }
// var friend = new Person("Nike", 29, "baidu");
// friend.sayName();

// function SpecialArray() {
// 	var values = new Array();
// 	values.push.apply(values, arguments);
// 	values.toPipedString = function() {
// 		return this.join('|');
// 	};
// 	return values;
// }
// var colors = new SpecialArray('red', 'blue', 'yellow');
// console.log(colors.toPipedString());

// 稳妥构造函数模式
// function Person(name, age, job) {
// 	var o = new Object;
// 	// 可以在这里定义私有变电和函数

// 	//添加方法
// 	o.sayName = function() {
// 		console.log(name);
// 	};
// 	//返回对象
// 	return o;
// }
// var friend = Person('Nike', 29, 'baidu');
// friend.sayName();




/* 
    继承
*/



// 原型链
// function SuperType(){
//     this.property = true;
// }

// SuperType.prototype.getSuperValue = function(){
//     return this.property;
// };

// function SubType(){
//     this.subproperty = false;
// }

// //继承了 SuperType
// SubType.prototype = new SuperType();

// SubType.prototype.getSubValue = function (){
//     return this.subproperty;
// };

// var instance = new SubType();
// console.log(instance.getSuperValue());   //true

////
// function dog() {
//     this.name = 'wang';
// }
// dog.prototype.getValue = function() {
//     return this.prototype;
// }
// function bigDog() {
//     this.name = 'wangwang';
//     this.age = 9;
// }

// dog.prototype = new bigDog();
// dog.prototype.getValue = function() {
//     return this.age;
// }

// var baby = new dog();
// console.log(baby.getValue());
// console.log(baby instanceof Object);
// console.log(baby instanceof dog);
// console.log(baby instanceof bigDog);
// console.log(Object.prototype.isPrototypeOf(baby));
// console.log(dog.prototype.isPrototypeOf(baby));
// console.log(bigDog.prototype.isPrototypeOf(baby));

//谨慎的定义方法
// function superType() {
//     this.property = true;
// }
// superType.prototype.getsuperValue = function() {
//     return this.property;
// }
// function subType() {
//     this.subproperty = false;
// }
// // 添加新方法
// subType.prototype.getSubValue = function() {
//     return this.subproperty;
// }
// // 重写超类型中的方法
// subType.prototype.getSuperValue = function() {
//     return NaN;
// }
// var instance = new subType();
// console.log(instance.getSuperValue());
// console.log(instance.getSubValue());

//原型链的问题
// function SuperType() {
//     this.colors = ['red', 'blue', 'yellow'];
// }
// function SubType(){}

// //继承了SuperType
// SubType.prototype = new SuperType();

// var instance1 = new SubType();
// instance1.colors.push('black');
// console.log(instance1.colors);
// var instance2 = new SubType();
// console.log(instance2.colors)

//借用构造函数
// function SuperType() {
//     this.colors = ['red', 'blue', 'yellow'];
// }

// function SubType(){
//     //继承了SuperType
//     SuperType.call(this);
// }

// var instance1 = new SuperType();
// instance1.colors.push('black');
// console.log(instance1.colors);

// var instance2 = new SubType();
// console.log(instance2.colors)

//传递参数
// function SuperType(name) {
//     this.name = name;
// }

// function SubTYpe() {
//     //继承了SuperType，同事还传递了参数
//     SuperType.call(this, "Nike");

//     //实例属性
//     this.age = 29;
// }
//  var  instance = new SubTYpe();
//  console.log(instance.name);
//  console.log(instance.age);


//组合继承
// function SuperType(name) {//构造函数
//     this.name =name;
//     this.colors = ['red', 'blue', 'yellow'];
// }

// SuperType.prototype.sayName = function() {//原型
//     console.log(this.name);
// };

// function SubType(name, age) {
//     //继承属性
//     SuperType.call(this, name);

//     this.age = age;
// }
// //继承方法
// SubType.prototype = new SuperType();
// SubType.prototype.constructor = SubType;
// SubType.prototype.sayAge = function() {
//     console.log(this.age);
// };

// var instance1 = new SubType('Nike', 29);
// instance1.colors.push('black');
// console.log(instance1.colors);
// instance1.sayName();
// instance1.sayAge();

// var instance2 = new SubType('Gump', 22);
// instance2.colors.push('black');
// console.log(instance2.colors);
// instance2.sayName();
// instance2.sayAge();


// 原型式继承
// var person = {
//     name: 'Nike',
//     friends:['A', 'B', 'C']
// };

// var anotherPerson = Object(person);
// anotherPerson.name = 'G';
// anotherPerson.friends.push('R');

// var yetAnotherPerson = Object(person);
// yetAnotherPerson.name = 'L';
// yetAnotherPerson.friends.push('D');

// console.log(person.friends);

// var person = {
//     name: 'Nike',
//     friends:['A', 'B', 'C']
// };

// var anotherPerson = Object.create(person);
// anotherPerson.name = 'G';
// anotherPerson.friends.push('R');

// var yetAnotherPerson = Object.create(person);
// yetAnotherPerson.name = 'L';
// yetAnotherPerson.friends.push('D');

// console.log(person.friends);


//寄生式继承
// function createAnother(original){
//     var clone = Object(original);
//     clone.sayHi = function () {
//         console.log('hi');
//     };
//     return clone;
// }

// var person = {
//     name: 'Nike',
//     firends: ['S', 'C', 'V']
// };

// var anotherPerson = createAnother(person);
// anotherPerson.sayHi(); 

// 寄生组合式继承
// function SuperType(name) {
//     this.name = name;
//     this.colors = ['red', 'blue', 'green'];
// }

// SuperType.prototype.sayName = function() {
//     console.log(this.name);
// };

// function SubType(name, age) {
//     SuperType.call(this, name);          //第二次调用SuperType()

//     this.age = age;
// }

// SubType.prototype = new SuperType();    //第一次调用SuperType()
// SubType.prototype.constructor = SubType;
// SubType.prototype.sayAge = function() {
//     console.log(this.age);
// };
// var instance = new SubType('Bob', 29);
// console.log(instance.sayAge);

// function SuperType(name) {
//     this.name = name;
//     this.colors = ['red', 'blue', 'green'];
// }

// SyperType.prototype.sayName = function() {
//     console.log(this.name);
// };

// function SybThype(name, age) {
//     SyperType.call(this, name)

//     this.age = age;
// }

// inheritPrototype(SubType, SuperType);

// subType.prototype.sayAge = function() {
//     console.log(this.age);
// };



/* 
    函数表达式
*/



//递归
// function factorial(num) {
//     if (num <= 1) {
//         return 1;
//     } else {
//         return num * arguments.callee(num - 1);
//     }
// }
// console.log(factorial(10));

////
// var factorial = (function f(num) {
//     if (num <= 1) {
//         return 1;
//     } else {
//         return num * f(num - 1);
//     }
// });
// console.log(factorial(5));

//闭包
// function createComparisonFunction(propertName) {

//     return function(object1, object2){
//         var value1 = object1[propertyName];         //内部函数访问外部函数
//         var value2 = object2[perpertyName];         //内部函数访问外部函数

//         if (value1 < value2) {
//             return -1;
//         } else if (value1 > value2) {
//             return 1;
//         } else {
//             return 0;
//         }
//     };
// }

// function compare(value1, value2) {
//     if (value1 < value2) {
//         return -1;
//     } else if (value1 > value2) {
//         return 1;
//     } else {
//         return 0;
//     }
// }
// var result = compare(5, 10);
// console.log(result);

// var compareNames = createComparisonFunction('name');
// var result = compareNames({name: 'Nike'}, {name: 'Gump'});
// conpaerName = null;

//闭包于变量
// function createFunction() {
//     var result = new Array();

//     for (let i = 0; i < 10; i++) {
//         result[i] = function() {
//             return i;
//         };
//     }
//     return result;
// }

////
// function createFunction() {
//     var result = new Array();

//     for (let i = 0; i < 10; i++) {
//         result[i] = function (num) {
//             return function () {
//                 return num;
//             };
//         }(i);
//     }
//     return result;
// }
// console.log(createFunction);

//闭包于变量
// var name = 'The Window';
// var object = {
//     name: 'My Object',

//     getNameFunc: function() {
//         return function() {
//             return this.name;
//         };
//     }
// };
// console.log(object.getNameFunc()());

// var name = 'The Window';
// var object = {
//     name: 'My Object',

//     getNameFunc: function() {
//         var that = this;
//         return function() {
//             return that.name;
//         };
//     }
// };
// console.log(object.getNameFunc()());

// 内存泄漏
// function assignHandler() {
//     var element = document.getElementById('someElement');
//     elemrnt.onclick = function() {
//         alert(element.id);
//     };
// }

// function assignHandler() {
//     var element = document.getElementById('someElement'),
//         id =eement.id;

//     elemrnt.onclick = function() {
//         alert(id);
//     };

//     element = null;
// }

// 模仿块级作用域
// function outputNumbers(count) {
//     (function() {
//         for (let i = 0; i < count; i++) {
//             console.log(i);
//         }
//     })();
    
//     console.log(i);
// }
// outputNumbers(5);

// (function() {

//     var now = new Date();
//     if (now.getMonth() == 0 && new.getDate() == 1) {
//         alert('Happy new year!');
//     }
// })();

// 私有变量
// function MyObject() {

//     // 私有变量和私有函数
//     var privateVariable = 10;

//     function privateFunction() {
//         return false;
//     }

//     // 特权方法
//     this.publicMethod = function() {
//         privateVariable++;
//         return privateFunction();
//     };
// }

// function Person(name) {

//     this.getName = function() {
//         return name;
//     };

//     this.setName = function (value) {
//         name = value;
//     };
// }

// var person = new Person('Nike');
// console.log(person.getName());
// person.setName('Gump');
// console.log(person.getName());

// 静态私有变量
// (function () {

//     // 私有变量和函数
//     var privateVariable = 10;

//     function privateFunction() {
//         return false;
//     }

//     // 构造函数
//     MyObject = function () {};

//     // 公有\特权方法
//     MyObject.prototype.publicMethod = function () {
//         privateVariable++;
//         return privateFunction();
//     }
// })();

////
// (function() {
    
//     var name = '';

//     Person = function(value) {
//         name = value;
//     };

//     Person.prototype.getName = function() {
//         return name;
//     };
//     Person.prototype.setName = function (value) {
//         name = value;
//     };
// })();

// var person1 = new Person('Nike');
// console.log(person1.getName());
// person1.setName('Gump');
// console.log(person1.getName());

// var person2 = new Person('Miko');
// console.log(person1.getName());
// console.log(person2.getName());

// 模块模式
// var singleton = function() {

//     // 私有变量和私有函数
//     var privateVariable = 10;

//     function privateFunction() {
//         return false;
//     }
//     // 公有\特权方法和属性
//     return {

//         publicProperty: true,

//         publicMethod: function() {
//             privateVariable++;
//             return privateFunction();
//         }
//     };
// }();

// var application = function() {

//     // 私有变量和函数
//     var components = new Array();

//     //初始化
//     components.push(new BaseComponent());

//     // 公共
//     return {
//         getComponentCount: function() {
//             return components.length;
//         },

//         registerComponent: function (component) {
//             if (typeof component == 'object') {
//                 components.push(component);
//             }
//         }
//     };
// }();

// 增强的模块模式
// var singleton = function() {

//     // 私有变量和私有函数
//     var privateVariable = 10;

//     function privateFunction() {
//         return false;
//     }

//     // 创建对象
//     var object = new CustonType();

//     // 添加特权\共有属性和方法
//     object.publicProperty = true;

//     object.publicMethod = function() {
//         privateVariable++;
//         return privateFunction();
//     };

//     // 返回这个对象
//     return object;
// }();

// var application = function() {

//     // 私有变量和函数
//     var components = new Array();

//     //初始化
//     components.push(new BaseComponent());

//     // 创建application的一个局部副本
//     var app = new BaseCOmponent();

//     // 公共接口
//     app.getCompontCount = function() {
//         return components.length;
//     };

//     app.regusterComperent = function(component) {
//         if (tpeof component == 'object') {
//             components.push(component);
//         }
//     };

//     // 返回这个副本
//     return app;
// }();


'第八章 BOM'


// 窗口位置

    // var leftPos = (typeof window.screenLeft == 'number') ? window.screenLeft : window.screenX;
    // var topPos = (typeof window.screenTop == 'number') ? window.screenTop : window.screenY;
    // console.log(leftPos +' '+ topPos);

// 取得页面视口大小

    // var getPageSize = function () {
    //     var pageWidth = window.innerWidth,
    //         pageHeight = window.innerHeight;

    //     if (typeof pageWidth != 'number') {
    //         if (document.compatMode == 'CSS1Compat') {

    //             pageWidth = document.documentElement.clientWidth;
    //             pageHeight = document.documentElement.clientHeight;
    //         } else {
    //             pageWidth = document.body.clientWidth;
    //             pageHeight = document.body.clientHeight;
    //         }
    //     }
    //     return [pageWidth, pageHeight];
    // };
    // document.write(getPageSize());

// 间歇调用和超时调用

    // 设置超时调用
    // var timeoutId = setTimeout(function() {
    //     alert('Hello DOM!');
    // }, 2000);
    // // 注意：把它取消
    // clearTimeout(timeoutId);

    //设置间歇调用
    // var num = 0,
    //     max = 10,
    //     intervalId = null;

    // function incrementNumber() {
    //     num++;
    //     document.write(num);
    //     //如果执行次数达到了max设置值，则取消后续尚未执行的调用
    //     if (num == max) {
    //         clearInterval(intervalId);
    //         document.write('Done');
    //     }
    // } 
    // intervalId = setInterval(incrementNumber, 500);

    //以上功能使用超时调用实现,推荐使用超时调用模拟间歇调用
    // var num = 0,
    //     max = 10;
    // function incrementNumber() {
    //     num++;

    //     //如果执行次数达到了max设置值，则设置另一次超时调用
    //     if (num < max) {
    //         setTimeout(incrementNumber, 500);
    //         document.write(num);
    //     } else {
    //         document.write('Done');
    //     }
    // } 
    // setTimeout(incrementNumber, 500);

// 系统对话框

    // if (confirm('Are you sure?')) { // 输出警告对话框
    //     alert('I\'m so happy');  // 输出提示对话框
    // } else {
    //     alert('I\'m sorry');
    // }

    // var result = prompt('What is your name?', '');  // 输出输入对话框
    // if (result != null) {
    //     alert('Welcome, ' + result);
    // } else {
    //     alert('Welcome, visitor');
    // }

// location 对象

    //window.location === document.location
    window.location.hash;      // 返回URL中的 hash
    window.location.host;      // 返回服务器名称和端口号
    window.location.hostname;  //  返回不带端口号的服务器名称
    window.location.href;      // 返回当前加载页面的完整URL
    window.location.pathname;  // 返回URL中的目录和文件名
    window.location.port;      // 返回URL中指定的端口号
    window.location.protocol;  // 返回页面使用的协议
    window.location.search;    // 返回URL的查询字符串

    '查询字符串参数'
   
    // function getQueryStringArgs() {

    //     // 取得查询字符串并去掉开头的问号
    //     var qs = (location.search.length > 0 ? location.search.substring(1) : ''),
    //     // 保存数据的对象
    //     args = {},

    //     // 取得每一项
    //     items = qs.length ? qs.split('&') : [],
    //     item = null,
    //     name = null,
    //     value = null,

    //     //在for循环中使用
    //     i = 0,
    //     len = items.length;

    //     // 逐个将每一项添加到args对象中
    //     for ( ; i < len; i++) {
    //         item = items[i].split('=');
    //         name = decodeURIComponent(item[0]);
    //         value = decodeURIComponent(item[1]);

    //         if (name.length) {
    //             args[name] = value;
    //         }
    //     }
    //     return args;
    // }

    '检测插件'

    // function hasPlugin(name) { // 检测插件，IE中无效
    //     name = name.toLowerCase();
    //     for (var i = 0; i < navigator.plugins.length; i++) {
    //         if (navigator.plugins[i].name.toLowerCase().indexOf(name) > -1) {
    //             return true;
    //         }
    //     }
    //     return false;
    // }
    // // 检测Flash
    // console.log(hasPlugin('Flash'));
    // // 检测QuickTime
    // console.log(hasPlugin('QuickTime'));

    // 检测所有浏览器中的Flash
    // function hasFlash(){ 
    //     var result = hasPlugin('Flash');
    //     if (!result) {
    //         result = hasIEPlugin('ShockwaveFlash.ShockwaveFlash');
    //     }
    //     return result;
    // }
    // // 检测所有浏览器中的QuickTime
    // function hasQuickTime(){
    //     var result = hasPlugin('QuickTime');
    //     if (!result) {
    //         result = hasIEPlugin('QuickTime.QuickTime');
    //     }
    //     return result;
    // }
    // // 检测Flash
    // console.log(hasFlash());
    // // 检测QuickTime
    // console.log(hasQuickTime());


'第十章 DOM'


    'Node类型'
    // if(someNode.nodeType == 1) {
    //     value = someNode.nodeName;
    // }

    // var firstChild = someNode.childNodes[0];
    // var secondChild = someNode.childNodes.item(1);
    // var count = someNode.childNodes.length;

    // var arrayOfNodes = prototype.slice.call(someNode.childNodes, 0);

    // var returnedNode = someNode.appendChild(newNode);
    // alert(returnedNode == newNode); -->true
    // alert(someNode.lastChild == newNode); -->true

    // someNode有多个节点
    // var returnNode = someNode.appendChild(someNode.firstChild);
    // alert(returnedNode == someNode.firstChild); -->false
    // alert(returnedNode == someNode.lastChild); -->true

    // insertBefore 插入后称为最后一个子节点
    // var returnNode = someNode.insertBefore(newNode, null);
    // alert(newNode == someNode.lastChild); -->true

    // insertBefore 插入后称为第一个子节点
    // var returnNode = someNode.insertBefore(newNode, someNode.firstChild);
    // alert(returnedNode == newSNode); -->true
    // alert(newNode == someNode.firstChild); -->true

    // insertBefore 插入到最后一个子节点前面
    // var returnNode = someNode.insertBefore(newNode, someNode.lastChild);
    // alert(newNode == someNode.childNodes[someNode.childNodes.length - 2]); -->true

    // replaceChild 替换第一个子节点
    // var returnNode = someNode.replaceChild(newNode, someNode.firstChild);

     // replaceChild 替换最后一个子节点
    //  var returnNode = someNode.replaceChild(newNode, someNode.lastChild);

    // removeChild 移除第一个子节点
    // var returnNode = someNode.removeChild(newNode, someNode.firstChild);

    // removeChild 移除最后一个子节点
    //  var returnNode = someNode.removeChild(newNode, someNode.lastChild);

    //节点克隆
    // var deepList = myList.cloneNode(true);
    // console.log(deepList.childNodes.length);
    // var shallowList = myList.cloneNode(false);
    // console.log(shallowList.childNodes.length);

    // 文档标题
    document.title;
    // 取得URL
    document.URL;
    // 取得域名
    document.domain;
    // 取得来源页面的URL
    document.referrer;

    'Element 类型'
    // if (element.tagName.toLowerCase() == 'div') {
        //推荐的比较操作
    // }
   
   '创建元素'
    // var div = document.createElement('div');
    // div.id = 'myDiv';
    // div.className = 'myClass';
    // document.body.appendChild(div);

    '节点检查'
    // for (var i = 0, len = element.childNodes.length; i < len; i++) {
    //     if (element.childNodes[i].nodeType == 1) {
    //         //执行其他操作
    //     }
    // }

    '创建文本节点'
    // var element = document.createElement('div');
    // element.className = 'message';

    // var textNode = document.createTextNode('Hello!');
    // element.appendChild(textNode);
    // document.body.appendChild(element);

    '创建多个文本节点'
    // var element = document.createElement('div');
    // element.className = 'message';

    // var textNode = document.createTextNode('Hello!'); // 创建
    // element.appendChild(textNode);

    // var anotherTextNode = document.createTextNode('Yippee!'); // 创建
    // element.appendChild(anotherTextNode);

    // document.body.appendChild(element);

    '个文本节点合并'
    // var element = document.createElement('div');
    // element.className = 'message';

    // var textNode = document.createTextNode('Hello!');
    // element.appendChild(textNode);

    // var anotherTextNode = document.createTextNode('Yippee!');
    // element.appendChild(anotherTextNode);

    // document.body.appendChild(element);
    // console.log(element.childNodes.length);

    // element.normalize(); // 合并
    // console.log(element.childNodes.length);
    // console.log(element.firstChild.nodeValue);

    '分割文本节点'
    // var element = document.createElement('div');
    // element.className = 'message';

    // var textNode = document.createTextNode('Hello World!');
    // element.appendChild(textNode);

    // document.body.appendChild(element);

    // var newNode = element.firstChild.splitText(5); // 分割
    // console.log(element.firstChild.nodeValue);
    // console.log(newNode.nodeValue);
    // console.log(element.childNodes.length);
    </script>


    <!-- <ul id="myList"></ul> -->
    <script>
    'DocumentFragment 类型'
    // var fragment = document.createDocumentFragment();
    // var ul = document.getElementById('myList');
    // var li = null;

    // for (var i = 0; i < 3; i++) {
    //     li = document.createElement('li');
    //     li.appendChild(document.createTextNode('Item ' + (i + 1)));
    //     fragment.appendChild(li);
    // }
    // ul.appendChild(fragment);

    'DOM操作技术'
    '动态脚本'
    // var script = document.createElement('script');
    // script.type = 'text/javascript';
    // script.src = 'none.js';
    // document.body.appendChild(script);

    '封装成函数加载外部js文件'
    // function loadScript(url) {
    //     var script = document.createElement('script');
    //     script.type = 'text/javascript';
    //     script.src = url;
    //     document.body.appendChild(script);
    // }
    // loadScript('none1.js');

    '动态样式'
    // var link = document.createElement('link');
    // link.rel = 'stylesheet';
    // link.type = 'text/css';
    // link.href = 'none.css';
    // var head = document.getElementsByTagName('head')[0];
    // head.appendChild(link);

    '封装成函数加载外部css文件'
    // function loadStyles(url) {
    //     var link = document.createElement('link');
    //     link.rel = 'stylesheet';
    //     link.type = 'text/css';
    //     link.href = url;
    //     var head = document.getElementsByTagName('head')[0];
    //     head.appendChild(link);
    // }
    // loadStyles('style.css');


'第十一章 DOM扩展'

    '焦点管理'
    </script>
    <!-- <div id="myDiv">
        <p>123</p>
        <ul>
            <li></li>
            <li></li>
            <li></li>
        </ul>
    </div>
    <button>no focus</button>
    <button id="myButton" data-log="1">focus</button> -->
    <script>
    // var button = document.getElementById('myButton');
    // button.focus();
    // console.log(document.activeElement === button);
    // console.log(document.hasFocus());

    '插入标记'
    // var div = document.getElementById('myDiv');
    // div.innerHTML = 'Hello & welcome, <b>\"reader\"!</b>'; // 替换了所有子元素
    // div.innerHTML; // "Hello &amp; welcome, <b>"reader"!</b>"
    // div.outerHTML = 'Hello & welcome, <b>\"reader\"!</b>'; // 替换了所有子元素
    // div.outerHTML; // "<div id="myDiv">Hello &amp; welcome, <b>"reader"!</b></div>"

    '父节点.contains(是否存在该后代节点)'
    // var div = document.getElementById('myDiv');
    // var ul = document.getElementsByTagName('ul')[0];
    // console.log(div.contains(ul)); // true
    // console.log(ul.contains(div)); // false

'第十二章 DOM2和DOM3'

    '访问元素的样式'
    // var div = document.getElementById('myDiv');
    // div.style.width = '100px';
    // div.style.height = '100px';
    // div.style.backgroundColor = 'red';
    // console.log(div.style.cssText);
    // console.log(div.style);
    // console.log(div.style.length);
    // console.log(div.style[1]);
    // console.log(div.style.getPropertyValue('height'));
    // console.log(div.style.removeProperty('background-color')); // 填写CSS属性名

 '第十三章 事件'

    'DOM2'
    </script>
    <button id="myBtn">Click!</button>
    <script>
    // var btn = document.getElementById('myBtn');
    // btn.addEventListener('click', function(){ // 匿名函数无法移除
    //     console.log(this.id);
    // }, false);
    // btn.addEventListener('click', function(){
    //     console.log('Hello');
    // }, false);

    // // 移除函数事件
    // var event = function () {
    //     console.log('good');
    // }
    // btn.addEventListener('click', event, false);
    // btn.removeEventListener('click', event, false);
    </script>
</body>
</html>
